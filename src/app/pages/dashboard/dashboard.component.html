<div class="dashboard-container">
  <app-header></app-header>
  
  <div class="dashboard-content">
    <h1 class="dashboard-title">Gesti칩n de Ingresos y Recursos de Equipo</h1>
    
    <div class="dashboard-cards">
      <mat-card class="feature-card">
        <mat-card-header>
          <div mat-card-avatar class="feature-icon user-icon">
            <mat-icon>person_add</mat-icon>
          </div>
          <mat-card-title>Creaci칩n de Usuario</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>Registrar a una nueva persona en el equipo.</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="registerNewUser()">Registrar nuevo ingreso</button>
        </mat-card-actions>
      </mat-card>
      
      <mat-card class="feature-card">
        <mat-card-header>
          <div mat-card-avatar class="feature-icon key-icon">
            <mat-icon>vpn_key</mat-icon>
          </div>
          <mat-card-title>Solicitud de Accesos</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>Solicitar permisos para un nuevo miembro del equipo.</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="requestAccess()">Solicitar acceso</button>
        </mat-card-actions>
      </mat-card>
      
      <mat-card class="feature-card">
        <mat-card-header>
          <div mat-card-avatar class="feature-icon computer-icon">
            <mat-icon>computer</mat-icon>
          </div>
          <mat-card-title>Asignaci칩n de Computadoras</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>Asignar un equipo port치til a un nuevo ingreso.</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="assignComputer()">Asignar computador</button>
        </mat-card-actions>
      </mat-card>
    </div>
    
    <div class="requests-container">
      <h2>Solicitudes Recientes 
        <span *ngIf="requests.length > 0" [matBadge]="requests.length" matBadgeColor="accent" matBadgeOverlap="false"></span>
      </h2>
        <div class="table-responsive">
        <table class="requests-table">
          <thead>
            <tr>
              <th>Persona</th>
              <th>Solicitud</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let request of requests" [ngClass]="getStatusClass(request.status)">
              <td data-label="Persona">{{ request.person }}</td>
              <td data-label="Solicitud">{{ request.type }}</td>
              <td data-label="Estado">
                <span class="status-indicator">{{ request.status | titlecase }}</span>
              </td>
              <td data-label="Acciones">
                <button mat-stroked-button (click)="viewDetails(request.id)">
                  Ver detalles
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
